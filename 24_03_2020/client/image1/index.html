<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="style.css">
  <title></title>
</head>

<body>
  <div class="division">
    <img src="letter1.jpg" alt="letter image">
    <p class="para"><strong>Sign up to My<br>Newsletter!</strong></p>
    <form onsubmit="myfunc();return false;">
      <input id="firstname" class="inp" type="text" name="firstname" placeholder="First Name" required><br>
      <input id="lastname" class="inp " type="text" name="lastname" placeholder="Last Name" required><br>
      <input id="emailid" class="inp" type="email" name="emailid" placeholder="Email" required><br>
      <input id="sumbit" class="inp1" type="submit"  value="Sign Up" required>
    </form>
    <p class="para1">© Made with ❤️Ashwin</p>
  </div>
  <script>
    function myfunc() {
      alert("submitted");
      var data = {
        firstname: document.getElementById('firstname').value,
        lastname: document.getElementById('lastname').value,
        email: document.getElementById('emailid').value
      }
      fetch("http://localhost:4000/users", {
          method: 'POST',
          body: JSON.stringify(data),
          headers: {
             Accept: "application/json",
            'Content-Type': 'application/json'
          }
        }).then(function(data) {
          console.log(data);
        }).catch(function(err) {
          console.error(err);
        })


      fetch("http://localhost:4000")
      .then((response) => {
           return response.json();
        }).then((data) => {
           console.log(data);
        }).catch(function(err){
          console.error(err);
        })
    }
  </script>
</body>

</html>
